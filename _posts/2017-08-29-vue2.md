---
layout:     post
title:		Vue2开发过程的问题
subtitle:   "Vue2"
date:       2017-08-29
author:     "handsameliu"
header-img: "img//post-bg-vue.jpg"
tags:
  - 总结
  - Vue2
---

> 在使用vue2在开发过程中遇到了一些问题，具体文档看vue官网就可以了，写的还不错。不过由于有过angular和react的实际开发经验，出现的问题都可以很快解决，甚至有些问题还一模一样的重现了一次。。。

<!-- more -->

## 默认导出文件夹

遇到的第一个问题就是，项目是放到tomcat中的，所以只需要给他们一个文件夹即可，可是默认的static文件夹冲突了。。。

改一下webpack的配置文件就可以了

`/config/index.js`  

将`build`和`dev`中的`assetsPublicPath`改为指定的文件夹路径即可

`assetsSubDirectory` 中的值也可以修改，不修改的话默认打包出来的文件夹中存在`static静态文件夹`。其中包含`根目录下static`中包含的文件。

```
/* 我是这么改的 */
build.assetsSubDirectory: 'static'
build.assetsPublicPath: '/m/'
dev.assetsSubDirectory: 'static'
dev.assetsPublicPath: '/m/'
```

还有要注意的是，如果你修改了`assetsPublicPathname`，那么`build`当中的`index`中也要进行修改哦，需要修改`文件夹前缀`(刚才改名的文件夹)。

## 可以使用pug和less编写

由于使用`VSCode编译器`，下载了一个vue插件，发现在编写`template`时会提示可以按照`pug`格式编写，在写`style`时可以使用`less`格式编写，但是对应的你还需要通过`npm`下载`less-loader`和`pug`。

```
/ * 如下 */
<template lang="pug"></template>
<style lang="less"></style>
```

## css作用域

编写vue时，由于作用域的问题，我们在写css的时候会设置一个属性`scoped`，他就表示了当前页面的css仅限在当前组件中使用。（感谢那个vscode中的vue插件，生成的代码还是很标准的）

## axios的使用配置

在使用axios时需要注意，他依赖`Promise`所以可能vuecli自带的babel-plugin-transform-runtime并不能很好的处理，而且在微信浏览器下可能还会出现其他不支持的情况，所以我们需要使用`babel-polyfill`来编译。

找到`.babelrc`中的`plugins`属性,将其中的transform-runtime注释掉即可，别忘了删除掉这个不用的npm包。
```
{
  "plugins": [
	//"transform-runtime"
  ]
}
```

然后在axios配置文件或者其他需要编译的js文件中直接引入就可以啦  

```
import babel-polyfill
```

## 数组在赋值后没有自动绑定

由于vue依赖的是`Object.defineProperty`，所以数组无法使用这个方法，就导致了在给数组赋值的时候无法自动绑定新的值，所以就用到了`$set`

```
this.userList.$set(i,'1');  

或

this.$set(userList,i,'1');
```

如果还不行可以使用`Object.assign()`,重新生成一个对象并重新赋值，不过这种情况至今没有遇到过。

指的注意的是循环的标签在template标签下一定要有`父节点`，否则很有可能无法渲染出来(angular,react都有这样的规定)

## 获取输入框的值

一种方法是直接获取绑定的model，一种是在输入框上绑定事件，再事件上传入`$event`参数，这样`methods`中的方法就可以接受到这个`event`了,然后使用`event.target.value`即可获取输入的值

```html
<input type='text' v-model="userName">

或

<input type='text' @click='update($event)'>
```

```javascript
methods:{
	update(e){
		console.log(e.target.value);
	}
}

```



